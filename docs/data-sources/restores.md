---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cockroach_restores Data Source - terraform-provider-cockroach"
subcategory: ""
description: |-
  Information about restore jobs on a specific cluster.
---

# cockroach_restores (Data Source)

Information about restore jobs on a specific cluster.

## Example Usage

```terraform
# Fetch the latest restore job
data "cockroach_restores" "latest_restore" {
  cluster_id = cockroach_cluster.prod_cluster.id
  sort_order = "DESC"
  limit      = 1
}

# Get the id of the most recent restore job
output "latest_restore_id" {
  value = data.cockroach_restores.latest_restore.restores[0].id
}

# Fetch restore jobs within a specific date range
data "cockroach_restores" "restores_in_range" {
  cluster_id = cockroach_cluster.prod_cluster.id
  start_time = "2025-08-15"
  # List restore jobs that occurred before 8/19/2025
  end_time   = "2025-08-19"
  sort_order = "DESC"
  limit      = 5
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_id` (String) The ID of the cluster where the restore jobs ran or are currently running.

### Optional

- `end_time` (String) Ending timestamp of the range (exclusive) used to search for restore jobs based on their creation time. If this field is provided, start_time must also be included in the request. Uses a date format with optional timestamp, for example: `2023-01-15` or `2023-01-15T10:30:00Z`.
- `limit` (Number) The maximum number of restore jobs to return. If not set, only the first 500 restore jobs will be returned.
- `sort_order` (String) Specifies the sort direction for the returned results. Use `ASC` for ascending or `DESC` for descending order.
- `start_time` (String) Beginning timestamp of the range (inclusive) used to search for restore jobs based on their creation time. If this field is provided, end_time must also be included in the request. Uses a date format with optional timestamp, for example: `2023-01-15` or `2023-01-15T10:30:00Z`.

### Read-Only

- `restores` (Attributes List) (see [below for nested schema](#nestedatt--restores))

<a id="nestedatt--restores"></a>
### Nested Schema for `restores`

Read-Only:

- `backup_end_time` (String) The timestamp at which the backup data was captured.
- `backup_id` (String) The ID of the managed backup used for this restore job.
- `client_error_code` (Number) Error code from the restore job, only populated if it has failed.
- `client_error_message` (String) Error message from the restore job, only populated if it has failed.
- `completed_at` (String) The timestamp at which the restore job completed.
- `completion_percent` (Number) Decimal value showing the percentage of the restore job that has been completed. Value ranges from 0 to 1.
- `crdb_job_id` (String) The CockroachDB internal job ID for the restore job.
- `created_at` (String) The time at which the restore job was initiated.
- `destination_cluster_name` (String) The name of the cluster to which the restore is being applied.
- `id` (String) The unique identifier associated with the restore job.
- `objects` (Attributes List) The list of database objects (databases, tables) that were restored. (see [below for nested schema](#nestedatt--restores--objects))
- `restore_opts` (Attributes) Additional options controlling the behavior of the restore job. (see [below for nested schema](#nestedatt--restores--restore_opts))
- `source_cluster_name` (String) The name of the cluster from which the backup was taken.
- `status` (String) The current status of the restore job.
- `type` (String) The type of object (to be) restored by this job.

<a id="nestedatt--restores--objects"></a>
### Nested Schema for `restores.objects`

Read-Only:

- `database` (String) The database name in the fully qualified name of the objects that were restored.
- `schema` (String) The schema name in the fully qualified name of the objects that were restored.
- `tables` (List of String) The list of table names in the fully qualified name of the objects that were restored.


<a id="nestedatt--restores--restore_opts"></a>
### Nested Schema for `restores.restore_opts`

Read-Only:

- `into_db` (String) Specifies the target database to restore the table into during a table restore job. If not set, the table will be restored into the database it belonged to in the source backup.
- `new_db_name` (String) Specifies the name of the database to create during a database restore job. If not set, the name defaults to the original database name from the source cluster.
- `schema_only` (Boolean) If set, only the schema will be restored and no user data will be included.
- `skip_localities_check` (Boolean) Allows the restore job to continue in the event that there are mismatched localities between the backup and target cluster. Useful when restoring multi-region tables to a cluster missing some localities.
- `skip_missing_foreign_keys` (Boolean) Allows a table to be restored even if it has foreign key constraints referencing rows that no longer exist in the target cluster.
- `skip_missing_sequences` (Boolean) Allows a table to be restored even if it contains a column whose `DEFAULT` value depends on a sequence. (See https://www.cockroachlabs.com/docs/stable/show-sequences)
- `skip_missing_views` (Boolean) Allows the job to skip restoring views that cannot be restored because their dependencies are not included in the current restore job.
